var orm = require("../lib/ORM");

// orm.connect("redshift://dresende@localhost:/orm_test", function (err, db) {
// orm.connect("mysql://root:tedua@localhost/orm?pool=true", function (err, db) {
orm.connect("mongodb:///test", function (err, db) {
// orm.connect("sqlite://", function (err, db) {
	if (err) {
		console.log("ERROR");
		throw err;
	}

	db.load(__dirname + "/test-model-person", function (err) {
		if (err) {
			console.log("LOAD ERROR", err);
			throw err;
		}

		var Person = db.models.person;
		var Pet    = db.models.pet;

		Person.find(function (err, people) {
			console.log(err, people[0].PESSOA);
		});

		// var John = new Person({
		// 	name    : "John",
		// 	surname : "Doe",
		// 	age     : 19,
		// 	dt      : new Date()
		// });
		// John.save(function (err) {
		// 	console.log("saved", err);
		// });

		// db.sync(function () {
		// 	Person.find({}, { offset: 0 }, 2, [ 'name', 'Z' ], function (err, people) {
		// 		console.log(people);
		// 	});
		// });
	});
});
